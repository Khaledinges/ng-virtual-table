{"version":3,"sources":["ng://ng-virtual-table/src/components/virtual-table.component.ts","ng://ng-virtual-table/src/ngVirtualTable.module.ts"],"names":["VirtualTableComponent","this","itemCount","_headerColumn","Set","column","_dataStream","EMPTY","prototype","ngOnChanges","changes","_this","dataSource","Observable","pipe","tap","stream","clear","forEach","e","Object","keys","key","add","Array","from","isArray","headerColumn","Component","args","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","Input","NgVirtualTableModule","NgModule","declarations","imports","BrowserModule","CommonModule","BrowserAnimationsModule","ScrollDispatchModule","exports","providers"],"mappings":"wsBAAA,IAAAA,EAAA,WAQA,SAAAA,IAOWC,KAAAC,UAAY,GAMbD,KAAAE,cAA6B,IAAIC,IAElCH,KAAAI,OAAwB,GAExBJ,KAAAK,YAAmDC,EAAAA,MAiB5D,OAfEP,EAAAQ,UAAAC,YAAA,SAAYC,GAAZ,IAAAC,EAAAV,KACM,eAAgBS,GAAWA,EAAQE,sBAAsBC,EAAAA,aAC3DZ,KAAKK,YAAcI,EAAQE,WAAWE,KACpCC,EAAAA,IAAI,SAACC,GACHL,EAAKR,cAAcc,QACnBD,EAAOE,QAAQ,SAACC,GAAM,OAAAC,OAAOC,KAAKF,GAAGD,QAAQ,SAACI,GAAQ,OAAAX,EAAKR,cAAcoB,IAAID,OAC7EX,EAAKN,OAASmB,MAAMC,KAAKd,EAAKR,mBAKhC,iBAAkBO,GAAWc,MAAME,QAAQhB,EAAQiB,gBACrD1B,KAAKI,OAASK,EAAQiB,mCA/B3BC,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,mBACVC,SAAA,qSAEAC,gBAAiBC,EAAAA,wBAAwBC,8CAGxCC,EAAAA,0BAEAA,EAAAA,4BAEAA,EAAAA,SAuBHnC,EA1CA,GCAAoC,EAAA,WAMA,SAAAA,KAMmC,2BANlCC,EAAAA,SAAQR,KAAA,CAAC,CACRS,aAAc,CAACtC,GACfuC,QAAS,CAACC,EAAAA,cAAeC,EAAAA,aAAcC,EAAAA,wBAAyBC,EAAAA,sBAChEC,QAAS,CAAC5C,GACV6C,UAAW,OAEsBT,EAZnC","sourcesContent":["import { Component, ChangeDetectionStrategy, Input, SimpleChanges } from '@angular/core';\nimport { Observable, EMPTY } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\ninterface VirtualTableItem {\n  [key: string]: any;\n}\n\n@Component({\n  selector: 'ng-virtual-table',\n  templateUrl: './virtual-table.component.html',\n  styleUrls: [],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VirtualTableComponent {\n  @Input() itemCount = 50;\n\n  @Input() dataSource: Observable<Array<VirtualTableItem>>;\n\n  @Input() headerColumn: Array<string>;\n\n  private _headerColumn: Set<string> = new Set();\n\n  public column: Array<string> = [];\n\n  public _dataStream: Observable<Array<VirtualTableItem>> = EMPTY;\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('dataSource' in changes && changes.dataSource instanceof Observable) {\n      this._dataStream = changes.dataSource.pipe(\n        tap((stream: Array<VirtualTableItem>) => {\n          this._headerColumn.clear();\n          stream.forEach((e) => Object.keys(e).forEach((key) => this._headerColumn.add(key)));\n          this.column = Array.from(this._headerColumn);\n        }),\n      );\n    }\n\n    if ('headerColumn' in changes && Array.isArray(changes.headerColumn)) {\n      this.column = changes.headerColumn;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ScrollDispatchModule } from '@angular/cdk/scrolling';\nimport { VirtualTableComponent } from './components/virtual-table.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { BrowserModule } from '@angular/platform-browser';\n@NgModule({\n  declarations: [VirtualTableComponent],\n  imports: [BrowserModule, CommonModule, BrowserAnimationsModule, ScrollDispatchModule],\n  exports: [VirtualTableComponent],\n  providers: [],\n})\nexport class NgVirtualTableModule {}\n"]}